(function(){"use strict";var e={8870:function(e,t,a){var o=a(5130),n=a(6768),l=a(4232);function s(e,t,a,o,s,r){const d=(0,n.g2)("router-view"),A=(0,n.g2)("NotificationPopUp");return(0,n.uX)(),(0,n.CE)("div",{class:(0,l.C4)(["app-container",r.currentThemeClass])},[(0,n.bF)(d),(0,n.bF)(A)],2)}var r=a(782);const d={class:"notification-container","aria-live":"assertive","aria-atomic":"true"},A=["onClick"];function i(e,t,a,s,r,i){return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.bF)(o.F,{name:"fade",tag:"div"},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.notifications,(e=>((0,n.uX)(),(0,n.CE)("div",{key:e.id,class:(0,l.C4)(["notification",e.type]),role:"alert"},[(0,n.Lk)("span",null,(0,l.v_)(e.message),1),(0,n.Lk)("button",{class:"close-btn",onClick:t=>i.removeNotification(e.id),"aria-label":"Close Notification"},"Ã—",8,A)],2)))),128))])),_:1})])}var c={name:"NotificationPopUp",computed:{...(0,r.L8)(["notifications"])},methods:{...(0,r.PY)(["REMOVE_NOTIFICATION"]),removeNotification(e){this.REMOVE_NOTIFICATION(e)}}},u=a(1241);const h=(0,u.A)(c,[["render",i],["__scopeId","data-v-c1fe0db2"]]);var v=h,p={name:"App",components:{NotificationPopUp:v},computed:{...(0,r.L8)(["activeCalendarColor"]),currentThemeClass(){return this.activeCalendarColor?`theme-${this.activeCalendarColor}`:"theme-blue"}},mounted(){this.fetchCalendars()},methods:{...(0,r.i0)(["fetchCalendars"])}};const C=(0,u.A)(p,[["render",s]]);var m=C,f=(a(8992),a(7550),a(1387)),g=(a(4114),a(4520),a(2577),a(4373)),E=a(794);const b="https://calendarapp-functions.azurewebsites.net",k="OxAzsFbx-dIb3NIC4JCalE1OJOYXcdkK_rwCrCVWZZiGAzFu_Iyrqg==";function y(e){const t=e.startsWith("/")?e:`/${e}`;return`${b}${t}?code=${k}`}const w={async createPersonalCalendar(e,t,a){const o={userId:e,name:t,color:a};return await g.A.post(y("/personal-calendar/create"),o)},async deletePersonalCalendar(e,t){return await g.A.post(y(`/personal-calendar/${e}/delete`),{userId:t})},async deleteGroupCalendar(e,t){return await g.A.post(y(`/group-calendar/${e}/delete`),{adminId:t})},async createGroupCalendar(e,t,a,o){const n={ownerId:e,name:t,members:a,color:o};return await g.A.post(y("/group-calendar/create"),n)},async editGroupCalendar(e,t,a){return g.A.put(y(`/group-calendar/${e}/edit`),{adminId:t,...a})},async addUserToGroupCalendar(e,t,a){return g.A.post(y(`/group-calendar/${e}/add-user`),{adminId:t,userId:a})},async removeUserFromGroupCalendar(e,t,a){return g.A.post(y(`/group-calendar/${e}/remove-user`),{adminId:t,userId:a})},async leaveGroupCalendar(e,t){return g.A.post(y(`/group-calendar/${e}/leave`),{userId:t})},async getUserId(e){return g.A.get(y(`/user/${e}/id`))},async getUserCalendars(e){return await g.A.get(y(`/user/${e}/calendars`))},validateUsername(e){return g.A.get(y(`/user/${e}/id`))},async getAllEvents(e){return await g.A.get(y(`/user/${e}/events`))},getEvents(e,t){return g.A.get(y(`/calendar/${e}/events`),{params:{userId:t}})},async addEvent(e,t,a=!1){try{const o=await g.A.post(y(`/calendar/${e}/event`),t,{params:{override:a}});return o.data}catch(o){throw o}},deleteEvent(e,t,a){return g.A.delete(y(`/calendar/${e}/event/${t}/delete`),{data:{userId:a}})},async updateEvent(e,t,a){try{const o=await g.A.put(y(`/calendar/${e}/event/${t}/update`),a);return o.data}catch(o){throw o}}};var L=w,M=(0,r.y$)({state:{userId:localStorage.getItem("userId")||"",defaultCalendarId:localStorage.getItem("defaultCalendarId")||"",notifications:[],calendars:[],activeCalendarId:localStorage.getItem("activeCalendarId")||"",allEvents:[]},mutations:{SET_USER_ID(e,t){e.userId=t},SET_DEFAULT_CALENDAR_ID(e,t){e.defaultCalendarId=t},SET_ACTIVE_CALENDAR_ID(e,t){e.activeCalendarId=t,localStorage.setItem("activeCalendarId",t)},CLEAR_AUTH(e){e.userId="",e.defaultCalendarId="",e.activeCalendarId="",e.calendars=[],e.allEvents=[],localStorage.removeItem("activeCalendarId")},ADD_NOTIFICATION(e,t){e.notifications.push(t)},REMOVE_NOTIFICATION(e,t){e.notifications=e.notifications.filter((e=>e.id!==t))},SET_CALENDARS(e,t){e.calendars=t},SET_ALL_EVENTS(e,t){e.allEvents=t}},actions:{async login({commit:e,dispatch:t},a){try{const o=await g.A.post(y("/login"),a),{userId:n,default_calendar_id:l}=o.data;e("SET_USER_ID",n),e("SET_DEFAULT_CALENDAR_ID",l),e("SET_ACTIVE_CALENDAR_ID",l),localStorage.setItem("userId",n),localStorage.setItem("defaultCalendarId",l),t("fetchCalendars"),t("notify",{type:"success",message:"Logged in successfully."})}catch(o){throw t("notify",{type:"error",message:o?.response?.data?.error||"Login failed."}),o}},async register({commit:e,dispatch:t},a){try{const o=await g.A.post(y("/register"),a),{userId:n,homeCalendarId:l}=o.data;e("SET_USER_ID",n),e("SET_DEFAULT_CALENDAR_ID",l),e("SET_ACTIVE_CALENDAR_ID",l),localStorage.setItem("userId",n),localStorage.setItem("defaultCalendarId",l),localStorage.setItem("activeCalendarId",l),t("fetchCalendars"),t("notify",{type:"success",message:"Registered successfully."})}catch(o){throw t("notify",{type:"error",message:o?.response?.data?.error||"Registration failed."}),o}},logout({commit:e,dispatch:t}){e("CLEAR_AUTH"),localStorage.removeItem("userId"),localStorage.removeItem("defaultCalendarId"),t("notify",{type:"info",message:"Logged out successfully."})},notify({commit:e},{type:t,message:a,duration:o=4e3}){const n=(0,E.A)();e("ADD_NOTIFICATION",{id:n,type:t,message:a}),setTimeout((()=>{e("REMOVE_NOTIFICATION",n)}),o)},async fetchCalendars({commit:e,state:t,dispatch:a}){try{const o=await L.getUserCalendars(t.userId),n=o.data.calendars||[];e("SET_CALENDARS",n),await a("fetchAllEvents")}catch(o){a("notify",{type:"error",message:"Failed to fetch calendars."})}},async fetchAllEvents({commit:e,state:t,dispatch:a}){try{const a=await L.getAllEvents(t.userId),o=a.data.events||[];e("SET_ALL_EVENTS",o)}catch(o){a("notify",{type:"error",message:"Failed to fetch all events."})}}},getters:{isAuthenticated:e=>!!e.userId,userId:e=>e.userId,defaultCalendarId:e=>e.defaultCalendarId,notifications:e=>e.notifications,calendars:e=>e.calendars,activeCalendarId:e=>e.activeCalendarId,activeCalendar:e=>e.calendars.find((t=>t.calendarId===e.activeCalendarId)),activeCalendarColor:(e,t)=>{const a=t.activeCalendar;return a?a.color:"blue"},allEvents:e=>e.allEvents}});const I={class:"auth-header"},D=["src"],T={class:"auth-main"},U={class:"auth-panel login-panel"},S={class:"form-group"},P={class:"form-group password-group"},Q=["type"],N=["src"],V={key:0,class:"error"},B={class:"auth-panel register-panel"},F={class:"form-group"},X={class:"form-group password-group"},q=["type"],O=["src"],G={class:"form-group password-group"},R=["type"],x=["src"],H={key:0,class:"error"};function W(e,t,a,s,r,d){return(0,n.uX)(),(0,n.CE)("div",{class:"auth-container",onMousemove:t[11]||(t[11]=(...e)=>d.handleMouseMove&&d.handleMouseMove(...e))},[t[17]||(t[17]=(0,n.Lk)("div",{class:"background-animation"},null,-1)),t[18]||(t[18]=(0,n.Lk)("div",{class:"overlay"},null,-1)),(0,n.Lk)("header",I,[t[12]||(t[12]=(0,n.Lk)("h1",{class:"app-name"},"Calendify",-1)),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>d.toggleDarkMode&&d.toggleDarkMode(...e)),class:"toggle-container","aria-label":"Toggle Dark Mode"},[(0,n.Lk)("img",{src:r.darkMode?r.moonIcon:r.sunIcon,alt:"Dark Mode Toggle",class:"toggle-icon"},null,8,D)])]),t[19]||(t[19]=(0,n.Lk)("section",{class:"auth-intro"},[(0,n.Lk)("h2",{class:"slogan"},"Organize Your Life Seamlessly"),(0,n.Lk)("p",{class:"description"}," Calendify is your ultimate shared calendar solution, enabling you to schedule, collaborate, and stay on top of your events effortlessly. ")],-1)),(0,n.Lk)("main",T,[(0,n.Lk)("div",U,[t[14]||(t[14]=(0,n.Lk)("h3",null,"Login",-1)),(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,o.D$)(((...e)=>d.doLogin&&d.doLogin(...e)),["prevent"]))},[(0,n.Lk)("div",S,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>r.loginUsername=e),type:"text",placeholder:"Username",required:"",class:"auth-input"},null,512),[[o.Jo,r.loginUsername]])]),(0,n.Lk)("div",P,[(0,n.bo)((0,n.Lk)("input",{type:r.showLoginPassword?"text":"password","onUpdate:modelValue":t[2]||(t[2]=e=>r.loginPassword=e),placeholder:"Password",required:"",class:"auth-input"},null,8,Q),[[o.hp,r.loginPassword]]),(0,n.Lk)("img",{src:r.showLoginPassword?r.eyeOffIcon:r.eyeIcon,alt:"Toggle Password Visibility",class:(0,l.C4)(["toggle-password",{rotated:r.showLoginPassword}]),onClick:t[3]||(t[3]=(...e)=>d.toggleLoginPassword&&d.toggleLoginPassword(...e))},null,10,N)]),r.loginError?((0,n.uX)(),(0,n.CE)("p",V,(0,l.v_)(r.loginError),1)):(0,n.Q3)("",!0),t[13]||(t[13]=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"Login",-1))],32)]),(0,n.Lk)("div",B,[t[16]||(t[16]=(0,n.Lk)("h3",null,"Register",-1)),(0,n.Lk)("form",{onSubmit:t[10]||(t[10]=(0,o.D$)(((...e)=>d.doRegister&&d.doRegister(...e)),["prevent"]))},[(0,n.Lk)("div",F,[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>r.registerUsername=e),type:"text",placeholder:"Username",required:"",class:"auth-input"},null,512),[[o.Jo,r.registerUsername]])]),(0,n.Lk)("div",X,[(0,n.bo)((0,n.Lk)("input",{type:r.showRegisterPassword?"text":"password","onUpdate:modelValue":t[6]||(t[6]=e=>r.registerPassword=e),placeholder:"Password",required:"",class:"auth-input"},null,8,q),[[o.hp,r.registerPassword]]),(0,n.Lk)("img",{src:r.showRegisterPassword?r.eyeOffIcon:r.eyeIcon,alt:"Toggle Password Visibility",class:(0,l.C4)(["toggle-password",{rotated:r.showRegisterPassword}]),onClick:t[7]||(t[7]=(...e)=>d.toggleRegisterPassword&&d.toggleRegisterPassword(...e))},null,10,O)]),(0,n.Lk)("div",G,[(0,n.bo)((0,n.Lk)("input",{type:r.showConfirmPassword?"text":"password","onUpdate:modelValue":t[8]||(t[8]=e=>r.confirmPassword=e),placeholder:"Confirm Password",required:"",class:"auth-input"},null,8,R),[[o.hp,r.confirmPassword]]),(0,n.Lk)("img",{src:r.showConfirmPassword?r.eyeOffIcon:r.eyeIcon,alt:"Toggle Confirm Password Visibility",class:(0,l.C4)(["toggle-password",{rotated:r.showConfirmPassword}]),onClick:t[9]||(t[9]=(...e)=>d.toggleConfirmPassword&&d.toggleConfirmPassword(...e))},null,10,x)]),r.registerError?((0,n.uX)(),(0,n.CE)("p",H,(0,l.v_)(r.registerError),1)):(0,n.Q3)("",!0),t[15]||(t[15]=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary"},"Register",-1))],32)])]),t[20]||(t[20]=(0,n.Lk)("footer",{class:"auth-footer"},[(0,n.Lk)("p",null,"Â© 2025 Calendify. All rights reserved.")],-1))],32)}var K={name:"AuthLanding",data(){return{loginUsername:"",loginPassword:"",loginError:null,showLoginPassword:!1,registerUsername:"",registerPassword:"",confirmPassword:"",registerError:null,showRegisterPassword:!1,showConfirmPassword:!1,darkMode:!1,moonIcon:a(5247),sunIcon:a(7391),eyeIcon:a(9862),eyeOffIcon:a(1674)}},methods:{...(0,r.i0)(["login","register"]),async doLogin(){try{await this.login({username:this.loginUsername,password:this.loginPassword}),this.$router.push("/dashboard")}catch(e){this.loginError=e?.response?.data?.error||"Login failed."}},async doRegister(){if(this.registerPassword===this.confirmPassword)try{await this.register({username:this.registerUsername,password:this.registerPassword}),this.$router.push("/dashboard")}catch(e){this.registerError=e?.response?.data?.error||"Registration failed."}else this.registerError="Passwords do not match."},toggleDarkMode(){this.darkMode=!this.darkMode,document.body.classList.toggle("dark-mode",this.darkMode),localStorage.setItem("darkMode",this.darkMode)},handleMouseMove(e){const{clientX:t}=e,a=window.innerWidth,o=t/a,n=360*o;this.$el.style.setProperty("--gradient-angle",`${n}deg`)},toggleLoginPassword(){this.showLoginPassword=!this.showLoginPassword},toggleRegisterPassword(){this.showRegisterPassword=!this.showRegisterPassword},toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}},mounted(){this.darkMode=!1,document.body.classList.remove("dark-mode");const e="true"===localStorage.getItem("darkMode");e&&(this.darkMode=!0,document.body.classList.add("dark-mode"))}};const j=(0,u.A)(K,[["render",W],["__scopeId","data-v-26661aee"]]);var J=j;const Y={class:"blue-header"},z={class:"header-right"},Z=["src"],$={class:"blue-sidebar"},_=["onClick"],ee={class:"sidebar-buttons"},te=["disabled"],ae={class:"modal-content"},oe={class:"form-group"},ne={class:"form-group"},le={id:"calendarColor",class:"color-options"},se=["value"],re={class:"modal-buttons"},de={class:"modal-content"},Ae={class:"form-group"},ie={class:"form-group"},ce={id:"groupCalColor",class:"color-options"},ue=["value"],he={class:"form-group"},ve={class:"member-chips"},pe=["onClick"],Ce={class:"member-input"},me={class:"modal-buttons"},fe={class:"modal-content"},ge={key:0},Ee={class:"members-container"},be=["onClick"],ke={class:"modal-buttons"},ye={class:"modal-content"},we={class:"form-group"},Le={class:"modal-buttons"},Me={class:"modal-content"},Ie={class:"form-group"},De={class:"form-group"},Te={id:"editCalendarColor",class:"color-options"},Ue=["value"],Se={class:"modal-buttons"},Pe={class:"blue-main"},Qe={key:2};function Ne(e,t,a,s,r,d){const A=(0,n.g2)("ConfirmationModal"),i=(0,n.g2)("HomeCalendar"),c=(0,n.g2)("PersonalCalendar");return(0,n.uX)(),(0,n.CE)("div",{class:(0,l.C4)(["blue-container",e.activeCalendar?.color?`theme-${e.activeCalendar.color}`:"theme-blue"])},[(0,n.Lk)("header",Y,[t[33]||(t[33]=(0,n.Lk)("div",{class:"header-left"},[(0,n.Lk)("h1",null,"Welcome to Calendify")],-1)),(0,n.Lk)("div",z,[(0,n.Lk)("span",null,"User ID: "+(0,l.v_)(e.userId),1),(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>d.toggleDarkMode&&d.toggleDarkMode(...e)),class:"toggle-container","aria-label":"Toggle Dark Mode"},[(0,n.Lk)("img",{src:r.darkMode?r.moonIcon:r.sunIcon,alt:"Dark Mode Toggle",class:"toggle-icon"},null,8,Z)]),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>d.handleLogout&&d.handleLogout(...e))},"Logout")])]),(0,n.Lk)("aside",$,[t[50]||(t[50]=(0,n.Lk)("h3",null,"Your Calendars",-1)),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.userCalendars,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.calendarId,onClick:e=>d.setActiveCalendar(t.calendarId),class:(0,l.C4)({active:t.calendarId===e.activeCalendarId}),style:(0,l.Tr)({"--cal-indicator":d.calColor(t.color)})},(0,l.v_)(t.name),15,_)))),128))]),(0,n.Lk)("div",ee,[(0,n.Lk)("button",{class:"btn-create-calendar",onClick:t[2]||(t[2]=(...e)=>d.openCreateModal&&d.openCreateModal(...e))}," + Create Personal Calendar "),(0,n.Lk)("button",{class:"btn-create-calendar",onClick:t[3]||(t[3]=(...e)=>d.openCreateGroupModal&&d.openCreateGroupModal(...e))}," + Create Group Calendar "),(0,n.Lk)("button",{class:"btn-view-details",onClick:t[4]||(t[4]=(...e)=>d.openDetailsModal&&d.openDetailsModal(...e)),disabled:!e.activeCalendar}," View Calendar Details ",8,te)]),r.showCreateModal?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal-backdrop add-event-modal",onClick:t[9]||(t[9]=(0,o.D$)(((...e)=>d.closeCreateModal&&d.closeCreateModal(...e)),["self"]))},[(0,n.Lk)("div",ae,[(0,n.Lk)("h3",{style:(0,l.Tr)({color:d.calColor(r.selectedColor)})},"Create New Personal Calendar",4),(0,n.Lk)("form",{onSubmit:t[8]||(t[8]=(0,o.D$)(((...e)=>d.createNewCalendar&&d.createNewCalendar(...e)),["prevent"]))},[(0,n.Lk)("div",oe,[(0,n.Lk)("label",{for:"calendarName",style:(0,l.Tr)({color:d.calColor(r.selectedColor)})}," Calendar Name: ",4),(0,n.bo)((0,n.Lk)("input",{id:"calendarName","onUpdate:modelValue":t[5]||(t[5]=e=>r.newCalendarName=e),required:"",type:"text",placeholder:"Enter calendar name"},null,512),[[o.Jo,r.newCalendarName]])]),(0,n.Lk)("div",ne,[(0,n.Lk)("label",{for:"calendarColor",style:(0,l.Tr)({color:d.calColor(r.selectedColor)})}," Choose a Color: ",4),(0,n.Lk)("div",le,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.availableColors,(e=>((0,n.uX)(),(0,n.CE)("label",{key:e.value,style:(0,l.Tr)({backgroundColor:d.calColor(e.value)}),class:(0,l.C4)(["color-option",{selected:e.value===r.selectedColor}])},[(0,n.bo)((0,n.Lk)("input",{type:"radio",name:"calendarColor",value:e.value,"onUpdate:modelValue":t[6]||(t[6]=e=>r.selectedColor=e),required:""},null,8,se),[[o.XL,r.selectedColor]]),t[34]||(t[34]=(0,n.Lk)("span",{class:"color-circle"},null,-1))],6)))),128))])]),(0,n.Lk)("div",re,[(0,n.Lk)("button",{type:"submit",class:"btn-submit",style:(0,l.Tr)({backgroundColor:d.calColor(r.selectedColor)})}," Create ",4),(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[7]||(t[7]=(...e)=>d.closeCreateModal&&d.closeCreateModal(...e))},"Cancel")])],32)])])):(0,n.Q3)("",!0),r.showCreateGroupModal?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"modal-backdrop add-event-modal",onClick:t[17]||(t[17]=(0,o.D$)(((...e)=>d.closeCreateGroupModal&&d.closeCreateGroupModal(...e)),["self"]))},[(0,n.Lk)("div",de,[(0,n.Lk)("h3",{style:(0,l.Tr)({color:d.calColor(r.groupSelectedColor)})},"Create New Group Calendar",4),(0,n.Lk)("form",{onSubmit:t[16]||(t[16]=(0,o.D$)(((...e)=>d.createNewGroupCalendar&&d.createNewGroupCalendar(...e)),["prevent"]))},[(0,n.Lk)("div",Ae,[(0,n.Lk)("label",{for:"groupCalName",style:(0,l.Tr)({color:d.calColor(r.groupSelectedColor)})}," Calendar Name: ",4),(0,n.bo)((0,n.Lk)("input",{id:"groupCalName","onUpdate:modelValue":t[10]||(t[10]=e=>r.groupCalendarName=e),required:"",type:"text",placeholder:"Enter group calendar name"},null,512),[[o.Jo,r.groupCalendarName]])]),(0,n.Lk)("div",ie,[(0,n.Lk)("label",{for:"groupCalColor",style:(0,l.Tr)({color:d.calColor(r.groupSelectedColor)})}," Choose a Color: ",4),(0,n.Lk)("div",ce,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.availableColors,(e=>((0,n.uX)(),(0,n.CE)("label",{key:e.value,style:(0,l.Tr)({backgroundColor:d.calColor(e.value)}),class:(0,l.C4)(["color-option",{selected:r.groupSelectedColor===e.value}])},[(0,n.bo)((0,n.Lk)("input",{type:"radio",name:"groupCalendarColor",value:e.value,"onUpdate:modelValue":t[11]||(t[11]=e=>r.groupSelectedColor=e),required:""},null,8,ue),[[o.XL,r.groupSelectedColor]]),t[35]||(t[35]=(0,n.Lk)("span",{class:"color-circle"},null,-1))],6)))),128))])]),(0,n.Lk)("div",he,[(0,n.Lk)("label",{for:"memberUsername",style:(0,l.Tr)({color:d.calColor(r.groupSelectedColor)})}," Add Members (Usernames): ",4),(0,n.Lk)("div",ve,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.groupMembers,((e,t)=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"chip",style:(0,l.Tr)({backgroundColor:d.calColor(r.groupSelectedColor),color:"#fff"})},[(0,n.eW)((0,l.v_)(e.username)+" ",1),(0,n.Lk)("span",{class:"chip-close",onClick:e=>d.removeMember(t)},"Ã—",8,pe)],4)))),128))]),(0,n.Lk)("div",Ce,[(0,n.bo)((0,n.Lk)("input",{id:"memberUsername","onUpdate:modelValue":t[12]||(t[12]=e=>r.memberUsername=e),onKeyup:t[13]||(t[13]=(0,o.jR)((0,o.D$)(((...e)=>d.handleAddMember&&d.handleAddMember(...e)),["prevent"]),["enter"])),placeholder:"Type username and press Enter",type:"text"},null,544),[[o.Jo,r.memberUsername]]),(0,n.Lk)("button",{type:"button",class:"btn-submit",onClick:t[14]||(t[14]=(...e)=>d.handleAddMember&&d.handleAddMember(...e)),style:(0,l.Tr)({backgroundColor:d.calColor(r.groupSelectedColor)})}," Add ",4)]),t[36]||(t[36]=(0,n.Lk)("p",{class:"help-text"},"Max 4 additional members (5 total with you).",-1))]),(0,n.Lk)("div",me,[(0,n.Lk)("button",{type:"submit",class:"btn-submit",style:(0,l.Tr)({backgroundColor:d.calColor(r.groupSelectedColor)})}," Create Group Calendar ",4),(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[15]||(t[15]=(...e)=>d.closeCreateGroupModal&&d.closeCreateGroupModal(...e))},"Cancel")])],32)])])):(0,n.Q3)("",!0),r.showDetailsModal&&e.activeCalendar?((0,n.uX)(),(0,n.CE)("div",{key:2,class:"modal-backdrop event-info-modal",onClick:t[23]||(t[23]=(0,o.D$)(((...e)=>d.closeDetailsModal&&d.closeDetailsModal(...e)),["self"]))},[(0,n.Lk)("div",fe,[t[41]||(t[41]=(0,n.Lk)("h3",null,"Calendar Details",-1)),(0,n.Lk)("p",null,[t[37]||(t[37]=(0,n.Lk)("strong",null,"Name:",-1)),(0,n.eW)(" "+(0,l.v_)(e.activeCalendar.name),1)]),(0,n.Lk)("p",null,[t[38]||(t[38]=(0,n.Lk)("strong",null,"Owner:",-1)),(0,n.eW)(" "+(0,l.v_)(d.getUsername(e.activeCalendar.ownerId)),1)]),(0,n.Lk)("p",null,[t[39]||(t[39]=(0,n.Lk)("strong",null,"Is Group:",-1)),(0,n.eW)(" "+(0,l.v_)(e.activeCalendar.isGroup?"Yes":"No"),1)]),e.activeCalendar.isGroup?((0,n.uX)(),(0,n.CE)("div",ge,[t[40]||(t[40]=(0,n.Lk)("p",null,[(0,n.Lk)("strong",null,"Members:")],-1)),(0,n.Lk)("div",Ee,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.activeCalendar.memberUsernames,((t,a)=>((0,n.uX)(),(0,n.CE)("div",{key:a,class:"member-tile",style:(0,l.Tr)({backgroundColor:d.calColor(e.activeCalendar.color)})},[(0,n.Lk)("span",null,(0,l.v_)(t),1),d.isAdmin&&t!==d.getUsername(e.userId)?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"remove-user-btn",onClick:e=>d.removeUser(t),"aria-label":"Remove User"}," Ã— ",8,be)):(0,n.Q3)("",!0)],4)))),128))]),d.isAdmin?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"btn-add-user",onClick:t[18]||(t[18]=(...e)=>d.openAddUserModal&&d.openAddUserModal(...e))}," + Add User ")):((0,n.uX)(),(0,n.CE)("button",{key:1,class:"btn-leave-calendar",onClick:t[19]||(t[19]=(...e)=>d.openLeaveCalendarModal&&d.openLeaveCalendarModal(...e))}," Leave Group Calendar "))])):(0,n.Q3)("",!0),(0,n.Lk)("div",ke,[d.isAdmin?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"btn-edit",onClick:t[20]||(t[20]=(...e)=>d.openEditCalendarModal&&d.openEditCalendarModal(...e))},"Edit")):(0,n.Q3)("",!0),d.isAdmin?((0,n.uX)(),(0,n.CE)("button",{key:1,class:"btn-delete",onClick:t[21]||(t[21]=(...e)=>d.confirmDeleteCalendar&&d.confirmDeleteCalendar(...e))},"Delete Calendar")):(0,n.Q3)("",!0),(0,n.Lk)("button",{class:"btn-cancel",onClick:t[22]||(t[22]=(...e)=>d.closeDetailsModal&&d.closeDetailsModal(...e))},"Close")])])])):(0,n.Q3)("",!0),r.showAddUserModal?((0,n.uX)(),(0,n.CE)("div",{key:3,class:"modal-backdrop",onClick:t[27]||(t[27]=(0,o.D$)(((...e)=>d.closeAddUserModal&&d.closeAddUserModal(...e)),["self"]))},[(0,n.Lk)("div",ye,[t[44]||(t[44]=(0,n.Lk)("h3",null,"Add User to Calendar",-1)),(0,n.Lk)("form",{onSubmit:t[26]||(t[26]=(0,o.D$)(((...e)=>d.addUser&&d.addUser(...e)),["prevent"]))},[(0,n.Lk)("div",we,[t[42]||(t[42]=(0,n.Lk)("label",{for:"addUser"},"Username:",-1)),(0,n.bo)((0,n.Lk)("input",{id:"addUser","onUpdate:modelValue":t[24]||(t[24]=e=>r.newUserToAdd=e),required:"",placeholder:"Enter username",type:"text"},null,512),[[o.Jo,r.newUserToAdd]])]),(0,n.Lk)("div",Le,[t[43]||(t[43]=(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"Add",-1)),(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[25]||(t[25]=(...e)=>d.closeAddUserModal&&d.closeAddUserModal(...e))},"Cancel")])],32)])])):(0,n.Q3)("",!0),r.showEditCalendarModal?((0,n.uX)(),(0,n.CE)("div",{key:4,class:"modal-backdrop",onClick:t[32]||(t[32]=(0,o.D$)(((...e)=>d.closeEditCalendarModal&&d.closeEditCalendarModal(...e)),["self"]))},[(0,n.Lk)("div",Me,[t[49]||(t[49]=(0,n.Lk)("h3",null,"Edit Calendar",-1)),(0,n.Lk)("form",{onSubmit:t[31]||(t[31]=(0,o.D$)(((...e)=>d.editCalendar&&d.editCalendar(...e)),["prevent"]))},[(0,n.Lk)("div",Ie,[t[45]||(t[45]=(0,n.Lk)("label",{for:"editCalendarName"},"Name:",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editCalendarName","onUpdate:modelValue":t[28]||(t[28]=e=>r.editCalendarName=e),required:"",type:"text",placeholder:"Enter new calendar name"},null,512),[[o.Jo,r.editCalendarName]])]),(0,n.Lk)("div",De,[t[47]||(t[47]=(0,n.Lk)("label",{for:"editCalendarColor"},"Color:",-1)),(0,n.Lk)("div",Te,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.availableColors,(e=>((0,n.uX)(),(0,n.CE)("label",{key:e.value,style:(0,l.Tr)({backgroundColor:d.calColor(e.value)}),class:(0,l.C4)(["color-option",{selected:r.editCalendarColor===e.value}])},[(0,n.bo)((0,n.Lk)("input",{type:"radio",name:"editCalendarColor",value:e.value,"onUpdate:modelValue":t[29]||(t[29]=e=>r.editCalendarColor=e),required:""},null,8,Ue),[[o.XL,r.editCalendarColor]]),t[46]||(t[46]=(0,n.Lk)("span",{class:"color-circle"},null,-1))],6)))),128))])]),(0,n.Lk)("div",Se,[t[48]||(t[48]=(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"Save",-1)),(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[30]||(t[30]=(...e)=>d.closeEditCalendarModal&&d.closeEditCalendarModal(...e))},"Cancel")])],32)])])):(0,n.Q3)("",!0),r.showLeaveCalendarModal?((0,n.uX)(),(0,n.Wv)(A,{key:5,visible:r.showLeaveCalendarModal,title:"Leave Group Calendar",message:"Are you sure you want to leave this group calendar? This action cannot be undone until an admin adds you back.",confirmText:"Leave",cancelText:"Cancel",onConfirm:d.leaveGroupCalendar,onCancel:d.closeLeaveCalendarModal},null,8,["visible","onConfirm","onCancel"])):(0,n.Q3)("",!0),r.showConfirmDeleteModal?((0,n.uX)(),(0,n.Wv)(A,{key:6,visible:r.showConfirmDeleteModal,title:"Confirm Deletion",message:"Are you sure you want to delete this calendar? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:d.deleteCalendar,onCancel:d.closeConfirmDeleteModal},null,8,["visible","onConfirm","onCancel"])):(0,n.Q3)("",!0)]),(0,n.Lk)("main",Pe,[e.activeCalendarId===e.defaultCalendarId?((0,n.uX)(),(0,n.Wv)(i,{key:0,userId:e.userId,"calendar-color":d.activeCalendarColor,onViewCalendar:d.setActiveCalendar},null,8,["userId","calendar-color","onViewCalendar"])):e.activeCalendarId?((0,n.uX)(),(0,n.Wv)(c,{key:1,userId:e.userId,calendarId:e.activeCalendarId,"calendar-color":d.activeCalendarColor,"calendar-name":e.activeCalendar?.name||"My Calendar"},null,8,["userId","calendarId","calendar-color","calendar-name"])):((0,n.uX)(),(0,n.CE)("p",Qe," Loading calendar... (activeCalendarId="+(0,l.v_)(e.activeCalendarId)+", defaultCalendarId="+(0,l.v_)(e.defaultCalendarId)+") ",1))])],2)}a(1454);const Ve={class:"modal-content"},Be={class:"form-group"},Fe={class:"form-group"},Xe={class:"form-group"},qe={class:"form-group"},Oe={class:"modal-buttons"},Ge={class:"modal-content"},Re={class:"modal-buttons"},xe={class:"modal-content"},He={class:"form-group"},We={class:"form-group"},Ke={class:"form-group"},je={class:"form-group"},Je={class:"modal-buttons"},Ye={key:3,class:"error"};function ze(e,t,a,s,r,d){const A=(0,n.g2)("vue-cal"),i=(0,n.g2)("ConfirmationModal"),c=(0,n.g2)("ConflictModal");return(0,n.uX)(),(0,n.CE)("div",{class:(0,l.C4)(["personal-calendar",`theme-${a.calendarColor}`,{"dark-mode":d.isDarkMode}])},[(0,n.Lk)("h2",null,(0,l.v_)(a.calendarName),1),((0,n.uX)(),(0,n.Wv)(A,{key:r.calendarColorKey,ref:"calendarRef",class:(0,l.C4)(["vuecal--custom-theme",d.calendarThemeClass]),"default-view":"month","disable-views-transition":!0,events:r.vueCalEvents,style:{height:"600px"},onViewChange:d.handleViewChange,onEventClick:d.handleEventClick,onCellClick:d.handleCellClick},null,8,["class","events","onViewChange","onEventClick","onCellClick"])),(0,n.Lk)("button",{class:"btn-add-event",onClick:t[0]||(t[0]=(...e)=>d.openAddEventModal&&d.openAddEventModal(...e))}," + Add Event "),r.showAddEventModal?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal-backdrop",onClick:t[7]||(t[7]=(0,o.D$)(((...e)=>d.closeAddEventModal&&d.closeAddEventModal(...e)),["self"]))},[(0,n.Lk)("div",Ve,[t[24]||(t[24]=(0,n.Lk)("h3",null,"Create New Event",-1)),(0,n.Lk)("form",{onSubmit:t[6]||(t[6]=(0,o.D$)(((...e)=>d.createEvent&&d.createEvent(...e)),["prevent"]))},[(0,n.Lk)("div",Be,[t[19]||(t[19]=(0,n.Lk)("label",{for:"eventTitle"},"Title",-1)),(0,n.bo)((0,n.Lk)("input",{id:"eventTitle","onUpdate:modelValue":t[1]||(t[1]=e=>r.newEventTitle=e),required:"",type:"text",placeholder:"Enter event title"},null,512),[[o.Jo,r.newEventTitle]])]),(0,n.Lk)("div",Fe,[t[20]||(t[20]=(0,n.Lk)("label",{for:"startTime"},"Start Time",-1)),(0,n.bo)((0,n.Lk)("input",{id:"startTime",type:"datetime-local","onUpdate:modelValue":t[2]||(t[2]=e=>r.newEventStart=e),required:""},null,512),[[o.Jo,r.newEventStart]])]),(0,n.Lk)("div",Xe,[t[21]||(t[21]=(0,n.Lk)("label",{for:"endTime"},"End Time",-1)),(0,n.bo)((0,n.Lk)("input",{id:"endTime",type:"datetime-local","onUpdate:modelValue":t[3]||(t[3]=e=>r.newEventEnd=e),required:""},null,512),[[o.Jo,r.newEventEnd]])]),(0,n.Lk)("div",qe,[t[22]||(t[22]=(0,n.Lk)("label",{for:"description"},"Description",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"description","onUpdate:modelValue":t[4]||(t[4]=e=>r.newEventDescription=e),rows:"3",placeholder:"Enter event description"},null,512),[[o.Jo,r.newEventDescription]])]),(0,n.Lk)("div",Oe,[t[23]||(t[23]=(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"Add Event",-1)),(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[5]||(t[5]=(...e)=>d.closeAddEventModal&&d.closeAddEventModal(...e))},"Cancel")])],32)])])):(0,n.Q3)("",!0),r.showDetailModal&&r.selectedEvent?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"modal-backdrop",onClick:t[11]||(t[11]=(0,o.D$)(((...e)=>d.closeDetailModal&&d.closeDetailModal(...e)),["self"]))},[(0,n.Lk)("div",Ge,[t[29]||(t[29]=(0,n.Lk)("h3",null,"Event Information",-1)),(0,n.Lk)("p",null,[t[25]||(t[25]=(0,n.Lk)("strong",null,"Title:",-1)),(0,n.eW)(" "+(0,l.v_)(r.selectedEvent.title),1)]),(0,n.Lk)("p",null,[t[26]||(t[26]=(0,n.Lk)("strong",null,"Start:",-1)),(0,n.eW)(" "+(0,l.v_)(r.selectedEvent.start),1)]),(0,n.Lk)("p",null,[t[27]||(t[27]=(0,n.Lk)("strong",null,"End:",-1)),(0,n.eW)(" "+(0,l.v_)(r.selectedEvent.end),1)]),(0,n.Lk)("p",null,[t[28]||(t[28]=(0,n.Lk)("strong",null,"Description:",-1)),(0,n.eW)(" "+(0,l.v_)(r.selectedEvent.description||"(No Description)"),1)]),(0,n.Lk)("div",Re,[(0,n.Lk)("button",{class:"btn-submit",onClick:t[8]||(t[8]=(...e)=>d.openEditModal&&d.openEditModal(...e))},"Edit"),(0,n.Lk)("button",{class:"btn-delete",onClick:t[9]||(t[9]=(...e)=>d.confirmDeleteEvent&&d.confirmDeleteEvent(...e))},"Delete"),(0,n.Lk)("button",{class:"btn-cancel",onClick:t[10]||(t[10]=(...e)=>d.closeDetailModal&&d.closeDetailModal(...e))},"Close")])])])):(0,n.Q3)("",!0),r.showEditModal&&r.selectedEvent?((0,n.uX)(),(0,n.CE)("div",{key:2,class:"modal-backdrop",onClick:t[18]||(t[18]=(0,o.D$)(((...e)=>d.closeEditModal&&d.closeEditModal(...e)),["self"]))},[(0,n.Lk)("div",xe,[t[35]||(t[35]=(0,n.Lk)("h3",null,"Edit Event",-1)),(0,n.Lk)("form",{onSubmit:t[17]||(t[17]=(0,o.D$)(((...e)=>d.updateEvent&&d.updateEvent(...e)),["prevent"]))},[(0,n.Lk)("div",He,[t[30]||(t[30]=(0,n.Lk)("label",{for:"editTitle"},"Title",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editTitle","onUpdate:modelValue":t[12]||(t[12]=e=>r.editEventTitle=e),required:"",type:"text",placeholder:"Enter new event title"},null,512),[[o.Jo,r.editEventTitle]])]),(0,n.Lk)("div",We,[t[31]||(t[31]=(0,n.Lk)("label",{for:"editStart"},"Start Time",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editStart",type:"datetime-local","onUpdate:modelValue":t[13]||(t[13]=e=>r.editEventStart=e),required:""},null,512),[[o.Jo,r.editEventStart]])]),(0,n.Lk)("div",Ke,[t[32]||(t[32]=(0,n.Lk)("label",{for:"editEnd"},"End Time",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editEnd",type:"datetime-local","onUpdate:modelValue":t[14]||(t[14]=e=>r.editEventEnd=e),required:""},null,512),[[o.Jo,r.editEventEnd]])]),(0,n.Lk)("div",je,[t[33]||(t[33]=(0,n.Lk)("label",{for:"editDescription"},"Description",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"editDescription","onUpdate:modelValue":t[15]||(t[15]=e=>r.editEventDescription=e),rows:"3",placeholder:"Enter event description"},null,512),[[o.Jo,r.editEventDescription]])]),(0,n.Lk)("div",Je,[t[34]||(t[34]=(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"Save Changes",-1)),(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[16]||(t[16]=(...e)=>d.closeEditModal&&d.closeEditModal(...e))},"Cancel")])],32)])])):(0,n.Q3)("",!0),(0,n.bF)(i,{visible:r.showConfirmDeleteModal,title:"Confirm Deletion",message:"Are you sure you want to delete this event? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:d.deleteEvent,onCancel:d.closeConfirmDeleteModal},null,8,["visible","onConfirm","onCancel"]),(0,n.bF)(c,{visible:r.showConflictModal,message:r.conflictMessage,onClose:d.closeConflictModal,onProceed:d.handleConflictProceed},null,8,["visible","message","onClose","onProceed"]),r.error?((0,n.uX)(),(0,n.CE)("div",Ye,(0,l.v_)(r.error),1)):(0,n.Q3)("",!0)],2)}var Ze=a(8311);const $e={class:"modal-content"},_e={class:"modal-buttons"};function et(e,t,a,s,r,d){return a.visible?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal-backdrop",onClick:t[2]||(t[2]=(0,o.D$)(((...e)=>d.handleCancel&&d.handleCancel(...e)),["self"])),"aria-modal":"true",role:"dialog"},[(0,n.Lk)("div",$e,[(0,n.Lk)("h3",null,(0,l.v_)(a.title),1),(0,n.Lk)("p",null,(0,l.v_)(a.message),1),(0,n.Lk)("div",_e,[(0,n.Lk)("button",{ref:"confirmButton",class:"btn-submit",onClick:t[0]||(t[0]=(...e)=>d.handleConfirm&&d.handleConfirm(...e)),"aria-label":"Confirm"},(0,l.v_)(a.confirmText),513),(0,n.Lk)("button",{class:"btn-cancel",onClick:t[1]||(t[1]=(...e)=>d.handleCancel&&d.handleCancel(...e)),"aria-label":"Cancel"},(0,l.v_)(a.cancelText),1)])])])):(0,n.Q3)("",!0)}var tt={name:"ConfirmationModal",props:{visible:{type:Boolean,required:!0},title:{type:String,default:"Confirm Action"},message:{type:String,default:"Are you sure you want to proceed?"},confirmText:{type:String,default:"Yes"},cancelText:{type:String,default:"No"}},emits:["confirm","cancel"],watch:{visible(e){e?(document.body.style.overflow="hidden",this.$nextTick((()=>{this.$refs.confirmButton.focus()}))):document.body.style.overflow=""}},methods:{handleConfirm(){this.$emit("confirm")},handleCancel(){this.$emit("cancel")}},beforeUnmount(){document.body.style.overflow=""}};const at=(0,u.A)(tt,[["render",et],["__scopeId","data-v-2c33b0e8"]]);var ot=at;const nt={class:"modal-content"},lt={class:"modal-buttons"};function st(e,t,a,s,r,d){return a.visible?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal-backdrop",onClick:t[1]||(t[1]=(0,o.D$)(((...e)=>d.closeModal&&d.closeModal(...e)),["self"])),"aria-modal":"true",role:"dialog"},[(0,n.Lk)("div",nt,[t[2]||(t[2]=(0,n.Lk)("h3",null,"Event Conflict",-1)),(0,n.Lk)("p",null,(0,l.v_)(a.message),1),(0,n.Lk)("div",lt,[(0,n.Lk)("button",{class:"btn-cancel",onClick:t[0]||(t[0]=(...e)=>d.closeModal&&d.closeModal(...e)),"aria-label":"OK"}," OK ")])])])):(0,n.Q3)("",!0)}var rt={name:"ConflictModal",props:{visible:{type:Boolean,required:!0},message:{type:String,default:"There is a conflict. Please choose a different time."}},emits:["close"],watch:{visible(e){document.body.style.overflow=e?"hidden":""}},methods:{closeModal(){this.$emit("close")}},beforeUnmount(){document.body.style.overflow=""}};const dt=(0,u.A)(rt,[["render",st],["__scopeId","data-v-a1b310fc"]]);var At=dt,it={name:"PersonalCalendar",components:{VueCal:Ze.A,ConfirmationModal:ot,ConflictModal:At},props:{userId:{type:String,required:!0},calendarId:{type:String,required:!0},calendarName:{type:String,default:"My Personal Calendar"},calendarColor:{type:String,default:"blue"}},data(){return{showCalendar:!0,calendarColorKey:0,vueCalEvents:[],error:null,showAddEventModal:!1,newEventTitle:"",newEventStart:"",newEventEnd:"",newEventDescription:"",showConflictModal:!1,conflictMessage:"",showDetailModal:!1,selectedEvent:null,showEditModal:!1,editEventTitle:"",editEventStart:"",editEventEnd:"",editEventDescription:"",showConfirmDeleteModal:!1}},mounted(){this.fetchEvents()},watch:{calendarId(e,t){e!==t&&this.fetchEvents()},calendarColor(){this.calendarColorKey++}},computed:{calendarThemeClass(){return`theme-${this.calendarColor}`},isDarkMode(){return!1}},methods:{...(0,r.i0)(["notify","fetchAllEvents"]),async fetchEvents(){try{const e=await g.A.get(y(`/calendar/${this.calendarId}/events`),{params:{userId:this.userId}}),t=e.data.events||[];this.vueCalEvents=t.map((e=>({id:e.eventId,title:e.title,start:this.formatForVueCal(e.startTime),end:this.formatForVueCal(e.endTime),description:e.description})))}catch(e){this.error=e?.response?.data?.error||"Failed to load events.",this.notify({type:"error",message:this.error})}},formatForVueCal(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const a=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}-${o}-${n} ${l}:${s}`},toLocalDateTime(e){if(!(e instanceof Date))return"";const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),l=String(e.getMinutes()).padStart(2,"0");return`${t}-${a}-${o}T${n}:${l}`},openAddEventModal(){this.showAddEventModal=!0,this.newEventTitle="",this.newEventDescription="";const e=new Date;this.newEventStart=this.toLocalDateTime(e),e.setHours(e.getHours()+1),this.newEventEnd=this.toLocalDateTime(e)},closeAddEventModal(){this.showAddEventModal=!1},async createEvent(){try{const e={userId:this.userId,title:this.newEventTitle,startTime:this.newEventStart,endTime:this.newEventEnd,description:this.newEventDescription};await L.addEvent(this.calendarId,e),await this.fetchAllEvents(),this.notify({type:"success",message:"Event created successfully."}),this.closeAddEventModal()}catch(e){if(e.response&&409===e.response.status)this.conflictMessage=e.response.data.error||"There was a conflict while creating the event.",this.showConflictModal=!0;else{const t=e?.response?.data?.error||"Failed to create event.";this.notify({type:"error",message:`<div>${t.replace(/\n/g,"<br>")}</div>`})}}},async handleConflictProceed(){try{const e={userId:this.userId,title:this.newEventTitle,startTime:this.newEventStart,endTime:this.newEventEnd,description:this.newEventDescription};await L.addEvent(this.calendarId,e,!0),await this.fetchAllEvents(),this.notify({type:"success",message:"Event created successfully despite conflicts."}),this.closeAddEventModal(),this.closeConflictModal()}catch(e){const t=e?.response?.data?.error||"Failed to create event with override.";this.notify({type:"error",message:`<div>${t.replace(/\n/g,"<br>")}</div>`})}},closeConflictModal(){this.showConflictModal=!1,this.conflictMessage=""},handleEventClick(e){console.log("Clicked event =>",e),this.selectedEvent={...e},this.showDetailModal=!0},closeDetailModal(){this.showDetailModal=!1,this.selectedEvent=null},openEditModal(){if(!this.selectedEvent)return;let e,t;if(console.log("Selected Event:",this.selectedEvent),console.log("Type of selectedEvent.start:",typeof this.selectedEvent.start),console.log("selectedEvent.start instanceof Date:",this.selectedEvent.start instanceof Date),console.log("Type of selectedEvent.end:",typeof this.selectedEvent.end),console.log("selectedEvent.end instanceof Date:",this.selectedEvent.end instanceof Date),this.showDetailModal=!1,this.showEditModal=!0,this.editEventTitle=this.selectedEvent.title,"string"===typeof this.selectedEvent.start)e=new Date(this.selectedEvent.start.replace(" ","T"));else{if(!(this.selectedEvent.start instanceof Date))return this.notify({type:"error",message:"Invalid event start time format."}),void this.closeEditModal();e=this.selectedEvent.start}if("string"===typeof this.selectedEvent.end)t=new Date(this.selectedEvent.end.replace(" ","T"));else{if(!(this.selectedEvent.end instanceof Date))return this.notify({type:"error",message:"Invalid event end time format."}),void this.closeEditModal();t=this.selectedEvent.end}this.editEventStart=this.toLocalDateTime(e),this.editEventEnd=this.toLocalDateTime(t),this.editEventDescription=this.selectedEvent.description||""},closeEditModal(){this.showEditModal=!1},async updateEvent(){if(this.selectedEvent)try{const e=this.selectedEvent.id,t={userId:this.userId,title:this.editEventTitle,startTime:this.editEventStart,endTime:this.editEventEnd,description:this.editEventDescription};await g.A.put(y(`/calendar/${this.calendarId}/event/${e}/update`),t),this.fetchEvents(),this.closeEditModal(),this.notify({type:"success",message:"Event updated successfully."})}catch(e){this.error=e?.response?.data?.error||"Failed to update event.",this.notify({type:"error",message:this.error})}},confirmDeleteEvent(){this.showConfirmDeleteModal=!0},closeConfirmDeleteModal(){this.showConfirmDeleteModal=!1},async deleteEvent(){if(this.selectedEvent)try{const e=this.selectedEvent.id;await g.A.delete(y(`/calendar/${this.calendarId}/event/${e}/delete`),{data:{userId:this.userId}}),this.fetchEvents(),this.closeDetailModal(),this.closeConfirmDeleteModal(),this.notify({type:"success",message:"Event deleted successfully."})}catch(e){this.error=e?.response?.data?.error||"Failed to delete event.",this.notify({type:"error",message:this.error})}},handleViewChange(e){e?.view&&(this.currentView=e.view.toLowerCase()),this.closeAddEventModal(),this.closeDetailModal(),this.closeEditModal(),this.closeConfirmDeleteModal()},handleCellClick(e){this.openAddEventModal();const t=e?.date||e?.start;if(t instanceof Date){this.newEventStart=this.toLocalDateTime(t);const e=new Date(t);e.setHours(e.getHours()+1),this.newEventEnd=this.toLocalDateTime(e)}}}};const ct=(0,u.A)(it,[["render",ze],["__scopeId","data-v-6d3fe85d"]]);var ut=ct,ht="data:image/png;base64,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";const vt={class:"modal-content"},pt={class:"form-group"},Ct={class:"dropdown-container"},mt=["value"],ft={class:"form-group"},gt={class:"form-group"},Et={class:"form-group"},bt={class:"form-group"},kt={class:"modal-buttons"},yt={class:"modal-content"},wt={key:0,class:"edit-delete-buttons"},Lt={key:1,class:"no-edit-delete"},Mt={class:"modal-buttons"},It={class:"modal-content"},Dt={class:"form-group"},Tt={class:"form-group"},Ut={class:"form-group"},St={class:"form-group"},Pt={class:"modal-buttons"};function Qt(e,t,a,s,r,d){const A=(0,n.g2)("vue-cal"),i=(0,n.g2)("ConflictModal"),c=(0,n.g2)("ConfirmationModal");return(0,n.uX)(),(0,n.CE)("div",{class:(0,l.C4)(["home-calendar",`theme-${a.calendarColor}`,{"dark-mode":d.isDarkMode}])},[t[42]||(t[42]=(0,n.Lk)("h2",null,"Home Calendar (All Events)",-1)),((0,n.uX)(),(0,n.Wv)(A,{key:r.calendarColorKey,ref:"calendarRef",class:(0,l.C4)(["vuecal--custom-theme",d.calendarThemeClass]),"default-view":"month","disable-views-transition":!0,events:d.vueCalEvents,"event-style":d.getEventStyle,style:{height:"600px"},onEventClick:d.handleEventClick},null,8,["class","events","event-style","onEventClick"])),(0,n.Lk)("button",{class:"btn-add-event",onClick:t[0]||(t[0]=(...e)=>d.openAddEventModal&&d.openAddEventModal(...e))}," + Add Event "),r.showAddEventModal?((0,n.uX)(),(0,n.CE)("div",{key:0,class:"modal-backdrop add-event-modal",onClick:t[8]||(t[8]=(0,o.D$)(((...e)=>d.closeAddEventModal&&d.closeAddEventModal(...e)),["self"]))},[(0,n.Lk)("div",vt,[t[28]||(t[28]=(0,n.Lk)("h3",null,"Create New Event",-1)),(0,n.Lk)("form",{onSubmit:t[7]||(t[7]=(0,o.D$)(((...e)=>d.createEvent&&d.createEvent(...e)),["prevent"]))},[(0,n.Lk)("div",pt,[t[21]||(t[21]=(0,n.Lk)("label",{for:"chooseCalendar"},"Select Calendar:",-1)),(0,n.Lk)("div",Ct,[(0,n.bo)((0,n.Lk)("select",{id:"chooseCalendar","onUpdate:modelValue":t[1]||(t[1]=e=>r.chosenCalendarId=e)},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(d.personalCalendars,(e=>((0,n.uX)(),(0,n.CE)("option",{key:e.calendarId,value:e.calendarId},(0,l.v_)(e.name),9,mt)))),128))],512),[[o.u1,r.chosenCalendarId]]),(0,n.Lk)("img",{src:ht,alt:"dropdown arrow",class:(0,l.C4)(["dropdown-arrow",{rotated:r.dropdownOpen}])},null,2)])]),(0,n.Lk)("div",ft,[t[22]||(t[22]=(0,n.Lk)("label",{for:"eventTitle"},"Title",-1)),(0,n.bo)((0,n.Lk)("input",{id:"eventTitle","onUpdate:modelValue":t[2]||(t[2]=e=>r.newEventTitle=e),required:""},null,512),[[o.Jo,r.newEventTitle]])]),(0,n.Lk)("div",gt,[t[23]||(t[23]=(0,n.Lk)("label",{for:"startTime"},"Start Time",-1)),(0,n.bo)((0,n.Lk)("input",{id:"startTime",type:"datetime-local","onUpdate:modelValue":t[3]||(t[3]=e=>r.newEventStart=e),required:""},null,512),[[o.Jo,r.newEventStart]])]),(0,n.Lk)("div",Et,[t[24]||(t[24]=(0,n.Lk)("label",{for:"endTime"},"End Time",-1)),(0,n.bo)((0,n.Lk)("input",{id:"endTime",type:"datetime-local","onUpdate:modelValue":t[4]||(t[4]=e=>r.newEventEnd=e),required:""},null,512),[[o.Jo,r.newEventEnd]])]),(0,n.Lk)("div",bt,[t[25]||(t[25]=(0,n.Lk)("label",{for:"description"},"Description",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"description","onUpdate:modelValue":t[5]||(t[5]=e=>r.newEventDescription=e),rows:"3"},null,512),[[o.Jo,r.newEventDescription]])]),t[27]||(t[27]=(0,n.Lk)("p",{class:"info-text"}," To add events to group calendars, please open them separately from the sidebar. ",-1)),(0,n.Lk)("div",kt,[t[26]||(t[26]=(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"Add Event",-1)),(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[6]||(t[6]=(...e)=>d.closeAddEventModal&&d.closeAddEventModal(...e))}," Cancel ")])],32)])])):(0,n.Q3)("",!0),(0,n.bF)(i,{visible:r.showConflictModal,message:r.conflictMessage,onClose:d.closeConflictModal},null,8,["visible","message","onClose"]),r.showDetailModal&&r.selectedEvent?((0,n.uX)(),(0,n.CE)("div",{key:1,class:"modal-backdrop event-info-modal",onClick:t[13]||(t[13]=(0,o.D$)(((...e)=>d.closeDetailModal&&d.closeDetailModal(...e)),["self"]))},[(0,n.Lk)("div",yt,[t[35]||(t[35]=(0,n.Lk)("h3",null,"Event Information",-1)),(0,n.Lk)("p",null,[t[29]||(t[29]=(0,n.Lk)("strong",null,"Title:",-1)),(0,n.eW)(" "+(0,l.v_)(r.selectedEvent.title),1)]),(0,n.Lk)("p",null,[t[30]||(t[30]=(0,n.Lk)("strong",null,"Start:",-1)),(0,n.eW)(" "+(0,l.v_)(d.formatDisplayDate(r.selectedEvent.start)),1)]),(0,n.Lk)("p",null,[t[31]||(t[31]=(0,n.Lk)("strong",null,"End:",-1)),(0,n.eW)(" "+(0,l.v_)(d.formatDisplayDate(r.selectedEvent.end)),1)]),(0,n.Lk)("p",null,[t[32]||(t[32]=(0,n.Lk)("strong",null,"Description:",-1)),(0,n.eW)(" "+(0,l.v_)(r.selectedEvent.description||"(No Description)"),1)]),(0,n.Lk)("p",null,[t[33]||(t[33]=(0,n.Lk)("strong",null,"Calendar:",-1)),(0,n.eW)(" "+(0,l.v_)(r.selectedEvent.calendarName),1)]),d.isDefaultCalendar(r.selectedEvent.calendarId)?((0,n.uX)(),(0,n.CE)("div",wt,[(0,n.Lk)("button",{class:"btn-edit",onClick:t[9]||(t[9]=(...e)=>d.openEditModal&&d.openEditModal(...e))},"Edit"),(0,n.Lk)("button",{class:"btn-delete",onClick:t[10]||(t[10]=(...e)=>d.confirmDeleteEvent&&d.confirmDeleteEvent(...e))},"Delete")])):((0,n.uX)(),(0,n.CE)("div",Lt,t[34]||(t[34]=[(0,n.Lk)("p",{class:"edit-note"}," To edit or delete this event, please navigate to the respective calendar. ",-1)]))),(0,n.Lk)("div",Mt,[(0,n.Lk)("button",{class:"btn-view-calendar",onClick:t[11]||(t[11]=e=>d.viewCalendar(r.selectedEvent.calendarId))},"View Calendar"),(0,n.Lk)("button",{class:"btn-cancel",onClick:t[12]||(t[12]=(...e)=>d.closeDetailModal&&d.closeDetailModal(...e))},"Close")])])])):(0,n.Q3)("",!0),r.showEditModal&&r.selectedEvent?((0,n.uX)(),(0,n.CE)("div",{key:2,class:"modal-backdrop",onClick:t[20]||(t[20]=(0,o.D$)(((...e)=>d.closeEditModal&&d.closeEditModal(...e)),["self"]))},[(0,n.Lk)("div",It,[t[41]||(t[41]=(0,n.Lk)("h3",null,"Edit Event",-1)),(0,n.Lk)("form",{onSubmit:t[19]||(t[19]=(0,o.D$)(((...e)=>d.updateEvent&&d.updateEvent(...e)),["prevent"]))},[(0,n.Lk)("div",Dt,[t[36]||(t[36]=(0,n.Lk)("label",{for:"editEventTitle"},"Title",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editEventTitle","onUpdate:modelValue":t[14]||(t[14]=e=>r.editEventTitle=e),required:""},null,512),[[o.Jo,r.editEventTitle]])]),(0,n.Lk)("div",Tt,[t[37]||(t[37]=(0,n.Lk)("label",{for:"editStartTime"},"Start Time",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editStartTime",type:"datetime-local","onUpdate:modelValue":t[15]||(t[15]=e=>r.editEventStart=e),required:""},null,512),[[o.Jo,r.editEventStart]])]),(0,n.Lk)("div",Ut,[t[38]||(t[38]=(0,n.Lk)("label",{for:"editEndTime"},"End Time",-1)),(0,n.bo)((0,n.Lk)("input",{id:"editEndTime",type:"datetime-local","onUpdate:modelValue":t[16]||(t[16]=e=>r.editEventEnd=e),required:""},null,512),[[o.Jo,r.editEventEnd]])]),(0,n.Lk)("div",St,[t[39]||(t[39]=(0,n.Lk)("label",{for:"editDescription"},"Description",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"editDescription","onUpdate:modelValue":t[17]||(t[17]=e=>r.editEventDescription=e),rows:"3"},null,512),[[o.Jo,r.editEventDescription]])]),(0,n.Lk)("div",Pt,[t[40]||(t[40]=(0,n.Lk)("button",{type:"submit",class:"btn-submit"},"Save Changes",-1)),(0,n.Lk)("button",{type:"button",class:"btn-cancel",onClick:t[18]||(t[18]=(...e)=>d.closeEditModal&&d.closeEditModal(...e))},"Cancel")])],32)])])):(0,n.Q3)("",!0),r.showConfirmDeleteModal?((0,n.uX)(),(0,n.Wv)(c,{key:3,visible:r.showConfirmDeleteModal,title:"Confirm Deletion",message:"Are you sure you want to delete this event? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",onConfirm:d.deleteEvent,onCancel:d.closeConfirmDeleteModal},null,8,["visible","onConfirm","onCancel"])):(0,n.Q3)("",!0)],2)}var Nt={name:"HomeCalendar",components:{ConflictModal:At,ConfirmationModal:ot,VueCal:Ze.A},props:{userId:{type:String,required:!0},calendarColor:{type:String,default:"blue"}},data(){return{calendarColorKey:0,showDetailModal:!1,selectedEvent:null,dropdownOpen:!1,showAddEventModal:!1,newEventTitle:"",newEventStart:"",newEventEnd:"",newEventDescription:"",chosenCalendarId:"",showConflictModal:!1,conflictMessage:"",showEditModal:!1,editEventTitle:"",editEventStart:"",editEventEnd:"",editEventDescription:"",eventIdToEdit:null,showConfirmDeleteModal:!1}},watch:{chosenCalendarId(){this.dropdownOpen=!1}},computed:{...(0,r.L8)(["allEvents","calendars","defaultCalendarId"]),vueCalEvents(){return this.allEvents.map((e=>{const t=this.calendars.find((t=>t.calendarId===e.calendarId)),a=t?this.calColor(t.color):"#0078d4",o=t?t.name:"Unknown Calendar";return console.log("Mapped Event:",{id:e.eventId,title:e.title,start:this.formatForVueCal(e.startTime),end:this.formatForVueCal(e.endTime),description:e.description,calendarId:e.calendarId,calendarName:o,color:a}),{id:e.eventId,title:e.title,start:this.formatForVueCal(e.startTime),end:this.formatForVueCal(e.endTime),description:e.description,calendarId:e.calendarId,calendarName:o,color:a}}))},groupCalendars(){return this.calendars?this.calendars.filter((e=>!0===e.isGroup)):[]},personalCalendars(){return this.calendars?this.calendars.filter((e=>!1===e.isGroup)):[]},calendarThemeClass(){return`theme-${this.calendarColor}`},isDarkMode(){return!1}},mounted(){this.personalCalendars.length>0&&(this.chosenCalendarId=this.personalCalendars[0].calendarId),this.fetchAllEvents()},methods:{...(0,r.i0)(["notify","fetchAllEvents"]),calColor(e){const t={pink:"#e91e63",green:"#4caf50",yellow:"#ffc107",red:"#f44336",purple:"#9c27b0",orange:"#ff9800",blue:"#0078d4"};return t[e.toLowerCase()]||"#0078d4"},getEventStyle(e){return console.log("Applying styles to event:",e.title,"Color:",e.color),{backgroundColor:e.color,borderColor:e.color,color:"#fff"}},handleEventClick(e){console.log("Clicked event =>",e),this.selectedEvent={...e},this.showDetailModal=!0},closeDetailModal(){this.showDetailModal=!1,this.selectedEvent=null},openAddEventModal(){if(!this.chosenCalendarId)return void this.notify({type:"error",message:"No personal calendar selected."});this.showAddEventModal=!0,this.newEventTitle="",this.newEventDescription="";const e=new Date;this.newEventStart=this.toLocalDateTime(e),e.setHours(e.getHours()+1),this.newEventEnd=this.toLocalDateTime(e)},closeAddEventModal(){this.showAddEventModal=!1},async createEvent(){if(this.chosenCalendarId)try{const e={userId:this.userId,title:this.newEventTitle,startTime:this.newEventStart,endTime:this.newEventEnd,description:this.newEventDescription};await L.addEvent(this.chosenCalendarId,e),await this.fetchAllEvents(),this.notify({type:"success",message:"Event created successfully."}),this.closeAddEventModal()}catch(e){if(e.response&&409===e.response.status){const t=e.response.data.conflictUser||"";this.conflictMessage=`A User ${t} is already busy at that time.`,this.showConflictModal=!0}else{const t=e?.response?.data?.error||"Failed to create event.";this.notify({type:"error",message:`<strong>Error:</strong> ${t.replace(/\n/g,"<br>")}`})}}else this.notify({type:"error",message:"Please select a personal calendar to add the event."})},closeConflictModal(){this.showConflictModal=!1,this.conflictMessage=""},async handleConflictProceed(){try{const e={userId:this.userId,title:this.newEventTitle,startTime:this.newEventStart,endTime:this.newEventEnd,description:this.newEventDescription};await L.addEvent(this.chosenCalendarId,e,!0),await this.fetchAllEvents(),this.notify({type:"success",message:"Event created successfully despite conflicts."}),this.closeAddEventModal(),this.closeConflictModal()}catch(e){const t=e?.response?.data?.error||"Failed to create event with override.";this.notify({type:"error",message:`<strong>Error:</strong> ${t.replace(/\n/g,"<br>")}`})}},formatForVueCal(e){if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return"";const a=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${a}-${o}-${n} ${l}:${s}`},formatDisplayDate(e){const t={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},a=new Date(e);return a.toLocaleDateString(void 0,t)},toLocalDateTime(e){if(!(e instanceof Date))return"";const t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),o=String(e.getDate()).padStart(2,"0"),n=String(e.getHours()).padStart(2,"0"),l=String(e.getMinutes()).padStart(2,"0");return`${t}-${a}-${o}T${n}:${l}`},viewCalendar(e){this.$emit("view-calendar",e),this.closeDetailModal()},isDefaultCalendar(e){return e===this.defaultCalendarId},confirmDeleteEvent(){this.showConfirmDeleteModal=!0},closeConfirmDeleteModal(){this.showConfirmDeleteModal=!1},async deleteEvent(){if(this.selectedEvent)try{await L.deleteEvent(this.selectedEvent.id,this.userId),this.notify({type:"success",message:"Event deleted successfully."}),this.closeConfirmDeleteModal(),this.closeDetailModal(),await this.fetchAllEvents()}catch(e){console.error("Error deleting event:",e);const t=e?.response?.data?.error||"Failed to delete event.";this.notify({type:"error",message:t}),this.closeConfirmDeleteModal()}},openEditModal(){this.selectedEvent&&(this.isDefaultCalendar(this.selectedEvent.calendarId)?(this.showEditModal=!0,this.editEventTitle=this.selectedEvent.title,this.editEventStart=this.toLocalDateTime(new Date(this.selectedEvent.start)),this.editEventEnd=this.toLocalDateTime(new Date(this.selectedEvent.end)),this.editEventDescription=this.selectedEvent.description||"",this.eventIdToEdit=this.selectedEvent.id):this.notify({type:"error",message:"You can only edit events from your default calendar."}))},closeEditModal(){this.showEditModal=!1,this.editEventTitle="",this.editEventStart="",this.editEventEnd="",this.editEventDescription="",this.eventIdToEdit=null},async updateEvent(){if(this.eventIdToEdit)try{const e={userId:this.userId,title:this.editEventTitle,startTime:this.editEventStart,endTime:this.editEventEnd,description:this.editEventDescription};await L.updateEvent(this.eventIdToEdit,e),await this.fetchAllEvents(),this.notify({type:"success",message:"Event updated successfully."}),this.closeEditModal(),this.closeDetailModal()}catch(e){const t=e?.response?.data?.error||"Failed to update event.";this.notify({type:"error",message:`<strong>Error:</strong> ${t.replace(/\n/g,"<br>")}`})}else this.notify({type:"error",message:"No event selected for editing."})}}};const Vt=(0,u.A)(Nt,[["render",Qt],["__scopeId","data-v-08a98673"]]);var Bt=Vt,Ft={name:"DashboardView",components:{PersonalCalendar:ut,HomeCalendar:Bt,ConfirmationModal:ot},data(){return{showCreateModal:!1,newCalendarName:"",selectedColor:"",showCreateGroupModal:!1,groupCalendarName:"",groupSelectedColor:"",groupMembers:[],memberUsername:"",showDetailsModal:!1,showEditCalendarModal:!1,editCalendarName:"",editCalendarColor:"",showConfirmDeleteModal:!1,showAddUserModal:!1,newUserToAdd:"",showLeaveCalendarModal:!1,availableColors:[{name:"Pink",value:"pink"},{name:"Green",value:"green"},{name:"Yellow",value:"yellow"},{name:"Red",value:"red"},{name:"Purple",value:"purple"},{name:"Orange",value:"orange"}],moonIcon:a(5247),sunIcon:a(7391),darkMode:!1}},computed:{...(0,r.L8)(["userId","defaultCalendarId","calendars","activeCalendarId","activeCalendar"]),userCalendars(){return this.calendars},activeCalendarColor(){return this.activeCalendar?this.activeCalendar.color:"blue"},isAdmin(){return this.activeCalendar&&this.userId===this.activeCalendar.ownerId}},mounted(){this.userId&&this.fetchCalendars()},methods:{...(0,r.i0)(["logout","notify","fetchCalendars","fetchAllEvents"]),calColor(e){const t={pink:"#e91e63",green:"#4caf50",yellow:"#ffc107",red:"#f44336",purple:"#9c27b0",orange:"#ff9800",blue:"#0078d4"};return t[e]||"#0078d4"},confirmDeleteCalendar(){this.showConfirmDeleteModal=!0},closeConfirmDeleteModal(){this.showConfirmDeleteModal=!1},handleLogout(){this.logout(),this.$router.push("/")},openCreateModal(){this.showCreateModal=!0,this.newCalendarName="",this.selectedColor=""},closeCreateModal(){this.showCreateModal=!1},async createNewCalendar(){try{await L.createPersonalCalendar(this.userId,this.newCalendarName,this.selectedColor),this.closeCreateModal(),await this.fetchCalendars(),this.notify({type:"success",message:"Personal calendar created successfully."})}catch(e){console.error("Error creating personal calendar:",e);const t=e?.response?.data?.error||"Failed to create personal calendar.";this.notify({type:"error",message:t})}},openCreateGroupModal(){this.showCreateGroupModal=!0,this.groupCalendarName="",this.groupSelectedColor="",this.groupMembers=[],this.memberUsername=""},closeCreateGroupModal(){this.showCreateGroupModal=!1},async handleAddMember(){const e=this.memberUsername.trim();if(e)if(this.groupMembers.length>=4)this.notify({type:"error",message:"Max 4 additional members allowed."});else if(this.groupMembers.find((t=>t.username.toLowerCase()===e.toLowerCase())))this.notify({type:"error",message:`User '${e}' already added.`});else try{const t=await L.validateUsername(e),a=t.data.userId;a&&(this.groupMembers.push({username:e,userId:a}),this.memberUsername="",this.notify({type:"success",message:`User '${e}' added.`}))}catch(t){t.response&&404===t.response.status?this.notify({type:"error",message:`User '${e}' does not exist.`}):(console.error("Error validating username:",t),this.notify({type:"error",message:"Failed to validate username. Please try again."}))}},removeMember(e){const t=this.groupMembers.splice(e,1)[0];this.notify({type:"info",message:`User '${t.username}' removed.`})},async createNewGroupCalendar(){try{const e=this.userId,t=this.groupSelectedColor||"pink",a=this.groupMembers.map((e=>e.username));await L.createGroupCalendar(e,this.groupCalendarName,a,t),this.notify({type:"success",message:"Group calendar created successfully."}),this.closeCreateGroupModal(),await this.fetchCalendars()}catch(e){console.error("Error creating group calendar:",e);const t=e?.response?.data?.error||"Failed to create group calendar.";this.notify({type:"error",message:t})}},openDetailsModal(){this.activeCalendar&&(this.showDetailsModal=!0)},closeDetailsModal(){this.showDetailsModal=!1},openAddUserModal(){this.showAddUserModal=!0,this.newUserToAdd=""},closeAddUserModal(){this.showAddUserModal=!1,this.newUserToAdd=""},async addUser(){const e=this.newUserToAdd.trim();if(e)try{const t=await L.getUserId(e),a=t.data.userId;if(!a)return void this.notify({type:"error",message:`User '${e}' does not exist.`});await L.addUserToGroupCalendar(this.activeCalendar.calendarId,this.userId,a),this.notify({type:"success",message:`User '${e}' added to calendar.`}),this.closeAddUserModal(),await this.fetchCalendars(),this.closeDetailsModal()}catch(t){console.error("Error adding user:",t);const e=t?.response?.data?.error||"Failed to add user.";this.notify({type:"error",message:e})}else this.notify({type:"error",message:"Please enter a username."})},getUsername(e){if(this.activeCalendar&&this.activeCalendar.memberUsernames){const t=this.activeCalendar.members.indexOf(e);if(-1!==t&&this.activeCalendar.memberUsernames[t])return this.activeCalendar.memberUsernames[t]}return e},async removeUser(e){try{const t=await this.fetchUserId(e);if(!t)return void this.notify({type:"error",message:`User '${e}' does not exist.`});await L.removeUserFromGroupCalendar(this.activeCalendar.calendarId,this.userId,t),this.notify({type:"success",message:`User '${e}' removed from calendar.`}),await this.fetchCalendars(),this.closeDetailsModal()}catch(t){console.error("Error removing user:",t);const e=t?.response?.data?.error||"Failed to remove user.";this.notify({type:"error",message:e})}},async fetchUserId(e){try{const t=await L.getUserId(e);return t.data.userId}catch(t){return console.error("Error fetching userId:",t),null}},openLeaveCalendarModal(){this.showLeaveCalendarModal=!0},closeLeaveCalendarModal(){this.showLeaveCalendarModal=!1},async leaveGroupCalendar(){try{await L.leaveGroupCalendar(this.activeCalendar.calendarId,this.userId),this.notify({type:"success",message:"You have left the group calendar."}),await this.fetchCalendars(),this.closeLeaveCalendarModal(),this.closeDetailsModal()}catch(e){console.error("Error leaving group calendar:",e);const t=e?.response?.data?.error||"Failed to leave group calendar.";this.notify({type:"error",message:t})}},openEditCalendarModal(){this.activeCalendar&&(this.showEditCalendarModal=!0,this.editCalendarName=this.activeCalendar.name,this.editCalendarColor=this.activeCalendar.color)},closeEditCalendarModal(){this.showEditCalendarModal=!1,this.editCalendarName="",this.editCalendarColor=""},async editCalendar(){try{const e={name:this.editCalendarName,color:this.editCalendarColor};await L.editGroupCalendar(this.activeCalendar.calendarId,this.userId,e),this.notify({type:"success",message:"Calendar updated successfully."}),this.closeEditCalendarModal(),await this.fetchCalendars(),this.closeDetailsModal()}catch(e){console.error("Error editing calendar:",e);const t=e?.response?.data?.error||"Failed to edit calendar.";this.notify({type:"error",message:t})}},async deleteCalendar(){try{this.activeCalendar.isGroup?(await L.deleteGroupCalendar(this.activeCalendar.calendarId,this.userId),this.notify({type:"success",message:"Group calendar deleted successfully."})):(await L.deletePersonalCalendar(this.activeCalendar.calendarId,this.userId),this.notify({type:"success",message:"Personal calendar deleted successfully."})),await this.fetchCalendars(),this.closeDetailsModal(),this.closeConfirmDeleteModal()}catch(e){console.error("Error deleting calendar:",e);const t=e?.response?.data?.error||"Failed to delete calendar.";this.notify({type:"error",message:t})}},toggleDarkMode(){this.darkMode=!this.darkMode,document.body.classList.toggle("dark-mode",this.darkMode)},setActiveCalendar(e){this.$store.commit("SET_ACTIVE_CALENDAR_ID",e),this.closeDetailsModal(),this.closeEditCalendarModal(),this.closeConfirmDeleteModal&&this.closeConfirmDeleteModal()}}};const Xt=(0,u.A)(Ft,[["render",Ne],["__scopeId","data-v-5a67cc21"]]);var qt=Xt;const Ot=[{path:"/",name:"AuthLanding",component:J},{path:"/dashboard",name:"Dashboard",component:qt,meta:{requiresAuth:!0}}],Gt=(0,f.aE)({history:(0,f.LA)("/CAD-gwc-frontend/"),routes:Ot});Gt.beforeEach(((e,t,a)=>{const o=M.getters.isAuthenticated;e.matched.some((e=>e.meta.requiresAuth))?o?a():a("/login"):e.matched.some((e=>e.meta.requiresGuest))&&o?a("/dashboard"):a()}));var Rt=Gt;(0,o.Ef)(m).use(M).use(Rt).mount("#app")},5247:function(e,t,a){e.exports=a.p+"img/moon.81da24e5.svg"},7391:function(e,t,a){e.exports=a.p+"img/sun.f0c11ab5.svg"},1674:function(e,t,a){e.exports=a.p+"img/eye-off.4b60946a.png"},9862:function(e){e.exports="data:image/png;base64,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"}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,a),l.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,l){if(!o){var s=1/0;for(i=0;i<e.length;i++){o=e[i][0],n=e[i][1],l=e[i][2];for(var r=!0,d=0;d<o.length;d++)(!1&l||s>=l)&&Object.keys(a.O).every((function(e){return a.O[e](o[d])}))?o.splice(d--,1):(r=!1,l<s&&(s=l));if(r){e.splice(i--,1);var A=n();void 0!==A&&(t=A)}}return t}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[o,n,l]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,o){return a.f[o](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{4:"c6778592",39:"5a209650",68:"bbbff4e1",100:"4ba684a6",113:"f50b7d07",151:"589b2cb7",168:"5951a240",172:"671ff1b6",175:"f408b362",249:"e81886f6",268:"6c33e9f9",270:"f38461e8",271:"be47ca24",274:"dcae801b",294:"1e9ed777",320:"e9661d22",326:"9352589c",341:"65098ab6",374:"3ed64d59",388:"f297ea93",390:"4fd67fc3",402:"401b9fd6",426:"9d79c32c",467:"8ae1f5ba",502:"19aad420",551:"0d95d9d7",607:"e2a8f1f6",644:"04c8254c",651:"dc5fdbd7",661:"07a4b363",662:"db182259",702:"ed14dc2a",713:"db1b7539",728:"66ab3333",740:"6c312c9f",787:"51bf8e3b",793:"9f37a894",802:"f574e8e1",851:"3b677056",859:"1ab43a76",886:"5de54310",896:"7e1c644a",914:"f7ed43a6",963:"6d9a65ec"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="calendify-frontend:";a.l=function(o,n,l,s){if(e[o])e[o].push(n);else{var r,d;if(void 0!==l)for(var A=document.getElementsByTagName("script"),i=0;i<A.length;i++){var c=A[i];if(c.getAttribute("src")==o||c.getAttribute("data-webpack")==t+l){r=c;break}}r||(d=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+l),r.src=o),e[o]=[n];var u=function(t,a){r.onerror=r.onload=null,clearTimeout(h);var n=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),d&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/CAD-gwc-frontend/"}(),function(){var e={524:0};a.f.j=function(t,o){var n=a.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var l=new Promise((function(a,o){n=e[t]=[a,o]}));o.push(n[2]=l);var s=a.p+a.u(t),r=new Error,d=function(o){if(a.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var l=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",r.name="ChunkLoadError",r.type=l,r.request=s,n[1](r)}};a.l(s,d,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,l,s=o[0],r=o[1],d=o[2],A=0;if(s.some((function(t){return 0!==e[t]}))){for(n in r)a.o(r,n)&&(a.m[n]=r[n]);if(d)var i=d(a)}for(t&&t(o);A<s.length;A++)l=s[A],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(i)},o=self["webpackChunkcalendify_frontend"]=self["webpackChunkcalendify_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(8870)}));o=a.O(o)})();